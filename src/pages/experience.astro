---
import Header from "../components/Header.astro";
import Footer from "../components/Footer.astro";
import { siteConfig } from "../config";
import "../styles/global.css";

const experiences = siteConfig.experience ?? [];
---

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <meta name="viewport" content="width=device-width" />
    <meta name="generator" content={Astro.generator} />
    <meta name="description" content={siteConfig.description} />
    <title>Experience | {siteConfig.name}</title>
  </head>

  <body class="bg-[#050608] text-gray-100">
    <Header />

    <main class="pt-24 pb-16">
      <section class="max-w-5xl mx-auto px-6 space-y-12">
        <header class="space-y-3">
          <p class="text-sm uppercase tracking-[0.25em] text-blue-500">
            Experience
          </p>
          <h1 class="text-4xl sm:text-5xl font-bold text-gray-100">
            Roles, responsibilities &amp; impact
          </h1>
          <p class="text-base sm:text-lg text-gray-400 max-w-3xl">
            A deeper look at where you&apos;ve worked, what you owned, and how
            you moved the needle. For some roles you can attach recommendation
            letters or testimonials directly.
          </p>
        </header>

        <div class="space-y-8">
          {experiences.map((job) => (
            <article class="rounded-2xl border border-slate-800 bg-slate-900/60 p-6 sm:p-8 shadow-lg shadow-black/30">
              <header class="flex flex-col sm:flex-row sm:items-baseline sm:justify-between gap-2">
                <div>
                  <h2 class="text-xl sm:text-2xl font-semibold text-gray-100">
                    {job.title}
                  </h2>
                  <p class="text-sm sm:text-base text-slate-400">
                    {job.company}
                  </p>
                </div>
                <p class="text-xs sm:text-sm text-slate-500">
                  {job.dateRange}
                </p>
              </header>

              {job.bullets && job.bullets.length > 0 && (
                <ul class="mt-4 list-disc space-y-2 pl-5 text-sm sm:text-base text-slate-200">
                  {job.bullets.map((bullet) => <li>{bullet}</li>)}
                </ul>
              )}

              {/* Optional testimonial button — only shows if testimonialUrl is set in config */}
              {job.testimonialUrl && (
                <a
                  href={job.testimonialUrl}
                  target="_blank"
                  rel="noopener noreferrer"
                  class="mt-6 inline-flex items-center rounded-full bg-blue-600 px-5 py-2 text-sm font-medium text-white hover:bg-blue-500 transition"
                >
                  View testimonial →
                </a>
              )}
            </article>
          ))}
        </div>
      </section>
    </main>

    <Footer />
  </body>
</html>
