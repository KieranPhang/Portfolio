---
import Header from "../../components/Header.astro";
import Footer from "../../components/Footer.astro";
import { siteConfig } from "../../config";
import "../../styles/global.css";

const projectName = "Pyramid of Light";
const projectTagline = "Rapid-built LED pyramid stage prop inspired by Daft Punk’s 2006 Sahara tent visuals.";
const projectSummary =
  "Designed and built in 9 days for an Egypt-themed collegiate event. Concept, geometry, custom 3D printed connectors, and full assembly under tight budget and time constraints.";

const withBase = (p: string) => `${import.meta.env.BASE_URL}${p.replace(/^\//, "")}`;

// Images (public/)
const hero = "/images/projects/Pyramid/Pyramid_Hero.jpg";
const imgInitialSketch = "/images/projects/Pyramid/Pyramid_InitialSketch.jpg";
const imgCADLines = "/images/projects/Pyramid/Pyramid_CADLines.jpg";
const imgToothpick = "/images/projects/Pyramid/Pyramid_ToothpickModel.jpg";
const imgConnSketch = "/images/projects/Pyramid/Pyramid_ConnectorsPartSketch.jpg";
const imgConnPrinted = "/images/projects/Pyramid/Pyramid_ConnectorsPrinted.jpg";
const imgConnLaidOut = "/images/projects/Pyramid/Pyramid_ConnectorsLaidOut.jpg";
const imgLightBar = "/images/projects/Pyramid/Pyramid_LightBar.jpg";
const imgBlueTape = "/images/projects/Pyramid/Pyramid_BlueTapeTint.jpg";

// YouTube
const ytId = "fJFgYYfPhIs";
const ytStart = 39; // seconds
---

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>{projectName} | {siteConfig.name}</title>
    <meta name="description" content={projectSummary} />
  </head>

  <body class="bg-background text-foreground">
    <Header />

    <main class="pt-24 pb-16">
      <section class="max-w-4xl mx-auto px-6 space-y-10">
        {/* Top header */}
        <header class="space-y-3">
          <p class="text-sm uppercase tracking-[0.25em] text-blue-500">Project</p>
          <h1 class="text-4xl sm:text-5xl font-bold text-gray-100">{projectName}</h1>
          <p class="text-base sm:text-lg text-gray-400">{projectTagline}</p>
          <p class="text-sm sm:text-base text-gray-400">{projectSummary}</p>
        </header>

        {/* Hero (keep portrait, no crop) */}
        <section class="space-y-4">
          <div class="rounded-2xl border border-slate-800 bg-slate-900/60 p-3">
            <div class="w-full overflow-hidden rounded-xl">
              <img
                src={withBase(hero)}
                alt="Pyramid of Light hero image"
                class="w-full h-auto object-contain"
                loading="eager"
              />
            </div>
          </div>
        </section>

        {/* Why */}
        <section class="space-y-4">
          <h2 class="text-2xl font-semibold text-gray-100">Why</h2>
          <p class="text-gray-300 leading-relaxed">
            A local DJ asked for fast decoration ideas for an Egypt-themed collegiate event.
            I pulled inspiration from Daft Punk’s 2006 Sahara tent pyramid visuals, then scoped a build that could be executed
            in under two weeks with cheap materials and minimal fabrication risk.
          </p>
          <ul class="list-disc list-inside space-y-2 text-gray-300">
            <li>Constraint: 9 days end-to-end (design, fabrication, assembly, and install).</li>
            <li>Constraint: tight budget target (under roughly $150 in parts).</li>
            <li>Constraint: stable structure for continuous operation during the event.</li>
          </ul>
        </section>

        {/* Inspiration (YouTube embed) */}
        <section class="space-y-4">
          <h2 class="text-2xl font-semibold text-gray-100">Inspiration</h2>
          <p class="text-gray-300 leading-relaxed">
            The design goal was a modular pyramid silhouette made of repeated triangular elements, referencing the iconic Sahara tent look.
          </p>

          <div class="overflow-hidden rounded-2xl border border-slate-800 bg-slate-900/60">
            <div class="aspect-video w-full">
              <iframe
                class="h-full w-full"
                src={`https://www.youtube-nocookie.com/embed/${ytId}?start=${ytStart}&rel=0`}
                title="Daft Punk Sahara tent reference"
                loading="lazy"
                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                allowfullscreen
              />
            </div>
          </div>
        </section>

        {/* Concept + Geometry (portrait images, no crop) */}
        <section class="space-y-4">
          <h2 class="text-2xl font-semibold text-gray-100">Concept and Geometry</h2>
          <p class="text-gray-300 leading-relaxed">
            I chose five-foot PVC poles and designed the pyramid as repeated triangular frames.
            The key was locking the geometry so assembly stayed predictable under time pressure.
          </p>

          <div class="grid gap-6 md:grid-cols-2">
            <div class="rounded-2xl border border-slate-800 bg-slate-900/60 p-3">
              <p class="text-sm text-gray-400 mb-2">Initial sketch</p>
              <img
                src={withBase(imgInitialSketch)}
                alt="Initial sketch"
                class="w-full h-auto object-contain rounded-xl"
                loading="lazy"
              />
            </div>

            <div class="rounded-2xl border border-slate-800 bg-slate-900/60 p-3">
              <p class="text-sm text-gray-400 mb-2">CAD line layout</p>
              <img
                src={withBase(imgCADLines)}
                alt="CAD line layout"
                class="w-full h-auto object-contain rounded-xl"
                loading="lazy"
              />
            </div>
          </div>
        </section>

        {/* Scale model validation (portrait) */}
        <section class="space-y-4">
          <h2 class="text-2xl font-semibold text-gray-100">Scale Model Validation</h2>
          <p class="text-gray-300 leading-relaxed">
            I printed a scaled connector set and used a toothpick model to validate angles, joint count, and assembly order before committing to full-size parts.
          </p>

          <div class="rounded-2xl border border-slate-800 bg-slate-900/60 p-3">
            <img
              src={withBase(imgToothpick)}
              alt="Toothpick scale model validation"
              class="w-full h-auto object-contain rounded-xl"
              loading="lazy"
            />
          </div>
        </section>

        {/* Connectors (portrait, and rotate the rotated photo) */}
        <section class="space-y-4">
          <h2 class="text-2xl font-semibold text-gray-100">Connectors</h2>
          <p class="text-gray-300 leading-relaxed">
            Custom 3D printed connectors made the structure modular and fast to assemble.
            The connector geometry was iterated quickly, then produced at volume with help from friends to hit the deadline.
          </p>

          <div class="grid gap-6 md:grid-cols-2">
            <div class="rounded-2xl border border-slate-800 bg-slate-900/60 p-3">
              <p class="text-sm text-gray-400 mb-2">Connector part sketch</p>
              <img
                src={withBase(imgConnSketch)}
                alt="Connector part sketch"
                class="w-full h-auto object-contain rounded-xl"
                loading="lazy"
              />
            </div>

            <div class="rounded-2xl border border-slate-800 bg-slate-900/60 p-3">
              <p class="text-sm text-gray-400 mb-2">Connectors printed</p>
              <img
                src={withBase(imgConnPrinted)}
                alt="Connectors printed"
                class="w-full h-auto object-contain rounded-xl"
                loading="lazy"
              />
            </div>
          </div>

          {/* Staging row: keep these portrait-aligned, remove wiring, rotate the rotated one */}
          <div class="grid gap-6 md:grid-cols-3">
            <div class="rounded-2xl border border-slate-800 bg-slate-900/60 p-3">
              <p class="text-sm text-gray-400 mb-2">Assembly staging</p>
              <img
                src={withBase(imgConnLaidOut)}
                alt="Connectors laid out for assembly"
                class="w-full h-auto object-contain rounded-xl"
                loading="lazy"
              />
            </div>

            <div class="rounded-2xl border border-slate-800 bg-slate-900/60 p-3">
              <p class="text-sm text-gray-400 mb-2">Lighting hardware</p>
              <img
                src={withBase(imgLightBar)}
                alt="LED light bars"
                class="w-full h-auto object-contain rounded-xl rotate-90 origin-center"
                loading="lazy"
              />
            </div>

            <div class="rounded-2xl border border-slate-800 bg-slate-900/60 p-3">
              <p class="text-sm text-gray-400 mb-2">Diffusion and tint</p>
              <img
                src={withBase(imgBlueTape)}
                alt="Blue tape diffusion and tint"
                class="w-full h-auto object-contain rounded-xl"
                loading="lazy"
              />
            </div>
          </div>
        </section>

        {/* Outcome */}
        <section class="space-y-4">
          <h2 class="text-2xl font-semibold text-gray-100">Outcome</h2>
          <ul class="list-disc list-inside space-y-2 text-gray-300">
            <li>Delivered a full-scale illuminated pyramid prop under extreme time pressure.</li>
            <li>Maintained stability through the full event runtime without structural failures.</li>
            <li>Proved a fast pipeline: geometry lock, scale validation, connector iteration, then rapid assembly.</li>
          </ul>
        </section>

        {/* Back link */}
        <div class="pt-4">
          <a
            href="/projects"
            class="text-sm text-blue-400 hover:text-blue-300 underline-offset-2 hover:underline"
          >
            ← Back to all projects
          </a>
        </div>
      </section>
    </main>

    <Footer />
  </body>
</html>
